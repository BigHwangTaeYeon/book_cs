# 데이터베이스의 종류

### 관계형 데이터베이스
RDBMS 는 행과 열을 가지는 표 형식 데이터를 저장하는 형태의 데이터베이스를 가리키며 SQL 이라는 언어를 써서 조작합니다.
MySQL, PostgreSQL, Oracle, SQL Server, MSSQL 등이 있습니다.

##### MySQL
대부분의 운영체제와 호환되며 스택 오버플로우에서 조사한 결과(2021 기준) 가장 많이 스는 데이터베이스이며
메타, 트위터 등 많은 기업에서 사용하고 있습니다.

C, C++로 만들어졌으며 MyISAM 인덱스 압축 기술, B-트리 기반의 인덱스, 스레드 기반의 메모리 할당 시스템,
매우 빠른 조인, 최대 64개의 인덱스를 제공합니다.

대용량 데이터베이스를 위해 설계되어 있고 롤백, 커밋, 이중 암호 지원 본안 등의 기능을 제공합니다.

데이터베이스의 심장과도 같은 역할이 스토리지 엔진인데,
모듈식 아키텍처로 쉽게 스토리지 엔진을 바꿀 수 있으며 데이터 웨어하우징, 트랜잭션 처리, 고가용성 처리에 강점을 두고 있습니다.
스토리지 엔진 위에는 커넥터 API 및 서비스 계층을 통해 MySQL 데이터베이스와 쉽게 상호 작용할 수 있습니다.

MySQL 은 쿼리 캐시를 지원해서 입력된 커리 문에 대한 전체 결과 집합을 저장하기 때문에
사용자가 작성한 쿼리가 캐시에 있는 쿼리와 동일하면 서버는 단순히 구문 분석, 최적화 및 실행을 건너뛰고 캐시의 출력만 표시합니다.
{
MySQL 5.6에서 기본적으로 비활성화 되었으며, 5.7.20에서 Deprecated 되었고 8.0 버전부터 제거된 기능이다.
1. 정확하게 쿼리가 일치
2. 쓰기 작업이 일어나면 Query Cache에서 해당 테이블을 사용하는 cache들은 모두 invalidate(무효화) 된다.
   (상대적으로 비싼 쿼리들이 혜택을 가장 적게 받음)
3. Query Cache에 데이터를 추가하거나 invalidate(무효화) 작업들은 모두 exclusive 잠금을 수행한다.
4. Query Cache는 싱글 코어에서 동작하도록 설계되어, 현재의 멀티 코어 시스템에서 원하는 만큼 처리량이 확장되지 않는다.
5. Query Cache는 단일 MySQL 서버에서 동작하도록 설계되었다. 지금과 같이 master/slave DB 구조에서 Query Cache를 하게되면 무효화가 즉시 복제본에 반영되지 않는다.

비슷한 쿼리가 조금 달라서 cache 되지 않는다면, Query Cache로 인한 오버헤드가 13% 증가
    (이 수치는 최악의 경우일 때를 가정하므로 실제 환경에서는 더 낮음)
단일 테이블에서 단일 row를 조회할 때 Query Cache를 사용하지 않으면 238% 빠른 결과를 얻음
}

##### PostgreSQL
디스크 조각이 차지하는 영역을 회수할 수 잇는 장치인 VACUUM 이 특징입니다.
최대 테이블의 크기는 32TB 이며 SQL 뿐 아니라 JSON 을 이용하여 데이터에 접근할 수 있습니다.
지정 시간에 복구하는 기능, 로깅, 접근 제어, 중첩된 트랜잭션, 백업 등을 할 수 있습니다.

### NoSQL
NoSQL(Not only SQL)는 SQL 을 사용하지 않는 데이터베이스를 말하며 mongoDB와 redis 등이 있습니다.

##### mongoDB
JSON 을 통해 데이터에 접근할 수 있고, Binary JSON 형태(BSON)로 데이터가 저장되며
와이어드타이거 엔진이 기본 스토리지 엔진으로 장착된 키-값 데이터 모델에서 확장된 도큐먼트 기반의 데이터베이스입니다.

확장성이 뛰어나며 빅데이터를 저장할 때 성능이 좋고, 고가용성과 샤딩, 레플리카셋을 지원합니다.
또한, 스키마를 정해 놓지 않고 데이터를 삽입할 수 있기 때문에 다양한 도메인의 데이터베이스를 기반으로
분석하거나 로깅 등을 구현할 때 강점을 보입니다.

도큐먼트를 생성할 때마다 다른 컬렉션에서 중복된 값을 지니기 힘든 유니크한 값인 ObjectID가 생성됩니다.
(ObjectID : 5f49475943 42bf9a4e a20b9e 원래 띄어쓰기 없이 붙어있음
)           타임스탬프   랜덤 값   카운터
이는 기본키로 유닉스 시간 기반의 타임스탬프(4byte), 랜덤 값(5byte), 카운터(3byte)로 이루어져 있습니다.

##### redis
인메모리 데이터베이스이자 키-값 데이터 모델 기반의 데이터베이스입니다.
기본적인 데이터 타입은 문자열이며 최대 512MB까지 저장할 수 있습니다.
이외에 셋(set), 해시(hash) 등을 지원합니다.
pub/sub 기능을 통해 채팅 시스템, 다른 데이터베이스 앞단에 두어 사용하는 캐싱 계층, 단순한 키-값이 필요한 세션 정보 관리,
정렬된 셋(sorted set) 자료 구조를 이용한 실시간 순위표 서비스에 사용합니다.
